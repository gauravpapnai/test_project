------Assignment 5---------------
CREATE TABLE SUPPLIER(
SID CHAR(5),
SNAME VARCHAR(25) NOT NULL,
SADD VARCHAR(35) NOT NULL,
SCITY VARCHAR(20) DEFAULT 'DELHI',
SPHONE CHAR(12) UNIQUE,
EMAIL VARCHAR(25));
CREATE DATABASE INVENTORY;
SELECT * FROM SUPPLIER;

ALTER TABLE SUPPLIER 
ALTER COLUMN SID CHAR(5) NOT NULL;
ALTER TABLE SUPPLIER 
ADD CONSTRAINT PKSID PRIMARY KEY (SID) ;

INSERT INTO SUPPLIER 
VALUES ( 'S0001','Ramesh Gupta','Sector 7','Delhi','9999002727','RI@YAHOO.CO.IN');

INSERT INTO SUPPLIER 
VALUES ( 'S0002','Sandeep Sharma','Sector 2','Gurugram','9567890010','SAM1@YAHOO.COM');

INSERT INTO SUPPLIER 
VALUES ( 'S0003','Rajesh Sharma','Sector 11','Delhi','9999001001','Rsharma56@gmail.com');

INSERT INTO SUPPLIER 
VALUES ( 'S0004','Yogeshwar Sharma','Sector 11','Delhi','8899001001','Ysharma@gmail.com');

INSERT INTO SUPPLIER 
VALUES ( 'S0005','Manoj Kumar','B320','Delhi','9999912399','mKumar@gmail.com');

INSERT INTO SUPPLIER 
VALUES ( 'S0006','Rohit Gupta','A32/620 Main Road','Gurugram','8899001123','rgupta@gmail.com');

SELECT * FROM SUPPLIER;

---------------------------------------------------------------------------------------------------------------------------------------
CREATE TABLE PRODUCT(
PID CHAR(5),
PDESC VARCHAR(25) NOT NULL,
PRICE INT ,
CATEGORY CHAR(2) ,
SID CHAR(5) FOREIGN KEY REFERENCES SUPPLIER(SID));

ALTER TABLE PRODUCT 
ALTER COLUMN PID CHAR(5) NOT NULL;
ALTER TABLE PRODUCT
ADD CONSTRAINT PKPID PRIMARY KEY(PID);           --S001/4 -IT 2/5-HA 3/6 -HC

ALTER TABLE PRODUCT
ADD CONSTRAINT PRICEG0 CHECK(PRICE>0);

INSERT INTO PRODUCT
VALUES('P0001','DEL 100 KEYBOARD',400,'IT','S0001');

INSERT INTO PRODUCT
VALUES('P0002','MASK ULTRA 3M',120,'HC','S0003');

INSERT INTO PRODUCT
VALUES('P0003','ACER MOUSE',200,'IT','S0004');

INSERT INTO PRODUCT
VALUES('P0004','3M SANITIZER',70,'HC','S0005');

INSERT INTO PRODUCT
VALUES('P0005','CARRIER WINDOW AC',35000,'HA','S0002');

INSERT INTO PRODUCT
VALUES('P0006','PANASONIC IRON',1400,'HA','S0005');

INSERT INTO PRODUCT
VALUES('P0007','LENOVO ADAPTOR',1200,'IT','S0001');

INSERT INTO PRODUCT
VALUES('P0008','ASUS LAPTOP BATTERY',1300,'IT','S0004');

INSERT INTO PRODUCT
VALUES('P0009','3M FACE SHIELD',300,'HC','S0006');

INSERT INTO PRODUCT
VALUES('P0010','3M RUBBER GLOVES',200,'HC','S0003');

INSERT INTO PRODUCT
VALUES('P0011','PHILIPS TOAST MAKER',1800,'HA','S0002');

INSERT INTO PRODUCT
VALUES('P0012','MORPHY RICHARDS KETTLE',2400,'HA','S0005');

INSERT INTO PRODUCT
VALUES('P0013','NITRO JOYSTICK',900,'IT','S0001');

INSERT INTO PRODUCT
VALUES('P0014','SAMSUNG HARD DISK',2500,'IT','S0004');

INSERT INTO PRODUCT
VALUES('P0015','DEYS FACE MASK',150,'HC','S0003');

INSERT INTO PRODUCT
VALUES('P0016','VICKS INHALER',300,'HC','S0006');

INSERT INTO PRODUCT
VALUES('P0017','LG REFRIGERATOR',14000,'HA','S0002');

INSERT INTO PRODUCT
VALUES('P0018','PHILIPS GEESER',8000,'HA','S0005');

UPDATE PRODUCT SET SID='S0006' WHERE PID='P0004';

SELECT * FROM PRODUCT;
-----------------------------------------------------------------------------------------------
CREATE TABLE CUST(
CID CHAR(5) NOT NULL PRIMARY KEY ,
CNAME VARCHAR(25) NOT NULL,
ADDRESS VARCHAR(35) NOT NULL,
CITY VARCHAR(20) NOT NULL,
PHONE CHAR(12) NOT NULL,
EMAIL VARCHAR(25) NOT NULL,
DOB DATE CHECK(DOB>'2000-01-01'));

SELECT GETDATE();

SELECT * FROM CUST;
SELECT * FROM PRODUCT;

INSERT INTO CUST
VALUES ( 'C0001','Pankaj Gupta','Sector 21','Almora','9900279927','PG@YAHOO.CO.IN','2006-09-24');

INSERT INTO CUST
VALUES ( 'C0002','Rakesh Sharma','Sector 12','Ghaziabad','9890065810','Rakesh1@YAHOO.COM','2001-07-14');

INSERT INTO CUST
VALUES ( 'C0003','Vinod Sharma','Sector 1','Meerut','9019875001','Vsharma56@gmail.com','2003-08-04');

INSERT INTO CUST
VALUES ( 'C0004','Brijesh Sharma','Sector 51','Dehradun','8001899001','Bsharma@gmail.com','2002-07-02');

INSERT INTO CUST
VALUES ( 'C0005','Dilip Kumar','B307','Patiala','991239999','dKumar@gmail.com','2004-02-13');

INSERT INTO CUST
VALUES ( 'C0006','Naveen Gupta','9/6 1.5 Feet Road','Jaipur','8891685123','ngupta@gmail.com','2008-10-15');


SELECT * FROM CUST;

-------------------------------------------------------------------------------------------------------------------------
CREATE TABLE STOCK(
PID CHAR(5) FOREIGN KEY REFERENCES PRODUCT(PID),
SQTY INT,
ROL INT ,
MOQ INT );

ALTER TABLE STOCK
ADD CONSTRAINT SQTYG0 CHECK(SQTY>0);

ALTER TABLE STOCK
ADD CONSTRAINT ROLG0 CHECK(ROL>0);

ALTER TABLE STOCK
ADD CONSTRAINT MOQG0 CHECK(MOQ>=5);

SELECT * FROM STOCK;





INSERT INTO STOCK
VALUES('P0001',25,3,6);

INSERT INTO STOCK
VALUES('P0002',150,50,10);

INSERT INTO STOCK
VALUES('P0003',222,10,6);

INSERT INTO STOCK
VALUES('P0005',25,5,7);

INSERT INTO STOCK
VALUES('P0008',200,20,10);

INSERT INTO STOCK
VALUES('P0009',500,100,50);

INSERT INTO STOCK
VALUES('P0011',100,20,10);

INSERT INTO STOCK
VALUES('P0012',50,10,10);

INSERT INTO STOCK
VALUES('P0013',30,6,8);

INSERT INTO STOCK
VALUES('P0015',200,50,10);

INSERT INTO STOCK
VALUES('P0018',15,5,6);

SELECT * FROM STOCK;

---------------------------------------------------------------------------------------------------------------------
USE INVENTORY;


CREATE TABLE ORDERS(
OID CHAR(5) PRIMARY KEY NOT NULL,
ODATE DATE,
PID CHAR(5) FOREIGN KEY REFERENCES PRODUCT(PID) ,
CID CHAR(5) FOREIGN KEY REFERENCES CUST(CID),
OQTY INT
 );

ALTER TABLE ORDERS
ADD CONSTRAINT OQTYG0 CHECK(OQTY>0);

SELECT * FROM ORDERS;


INSERT INTO ORDERS
VALUES('O0001','2020-01-12','P0001','C0001',20);

INSERT INTO ORDERS
VALUES('O0002','2018-12-25','P0004','C0002',150);

INSERT INTO ORDERS
VALUES('O0003','2016-03-16','P0005','C0003',10);

INSERT INTO ORDERS
VALUES('O0004','2021-04-28','P0006','C0004',15);

INSERT INTO ORDERS
VALUES('O0005','2022-11-26','P0007','C0005',20);

SELECT * FROM ORDERS;

---------------------------------------	Assignment 5-----------------------------------------------

SELECT * FROM SUPPLIER;

SELECT * FROM ORDERS;
SELECT * FROM CUST;
SELECT * FROM PRODUCT;
SELECT * FROM STOCK;
--B1
SELECT PID,PDESC,CATEGORY,SNAME,SCITY FROM 
PRODUCT 
INNER JOIN SUPPLIER
ON PRODUCT.SID=SUPPLIER.SID;

SELECT * FROM PRODUCT;
--B2
SELECT OID,ODATE,CNAME,ADDRESS,PHONE,PDESC,PRICE,OQTY,PRICE*OQTY AS 'AMOUNT' FROM 
ORDERS INNER JOIN 
CUST ON 
ORDERS.CID=CUST.CID
INNER JOIN PRODUCT ON 
ORDERS.PID = PRODUCT.PID;

--A1

USE TEST;

SELECT NAME,CITY,DOJ,DEPT,DESI,SALARY FROM 
EMP LEFT JOIN SAL
ON EMP.EID=SAL.EID WHERE CITY='DELHI';
--A2 INNER JOIN

SELECT NAME,CITY,DOJ,DEPT,DESI,SALARY FROM 
EMP LEFT JOIN SAL
ON EMP.EID=SAL.EID WHERE SALARY IS NULL;
